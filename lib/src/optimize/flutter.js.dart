const String flutterJSSourceCode = r'''
!function(){"use strict";const e={hasImageCodecs:"undefined"!=typeof ImageDecoder&&("Google Inc."===navigator.vendor||"Edg/"===navigator.agent),hasChromiumBreakIterators:void 0!==Intl.v8BreakIterator&&void 0!==Intl.Segmenter,supportsWasmGC:WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,95,1,120,0])),crossOriginIsolated:window.crossOriginIsolated};function t(...e){return new URL(i(...e),document.baseURI).toString()}function i(...e){return e.filter((e=>!!e)).map(((e,t)=>0===t?r(e):function(e){let t=0;for(;t<e.length&&"/"===e.charAt(t);)t++;return e.substring(t)}(r(e)))).filter((e=>e.length)).join("/")}function r(e){let t=e.length;for(;t>0&&"/"===e.charAt(t-1);)t--;return e.substring(0,t)}class n{constructor(){this._scriptLoaded=!1,this._retryCount=0}setTrustedTypesPolicy(e){this._ttPolicy=e}async loadEntrypoint(e){const{entrypointUrl:i=t("main.dart.js"),onEntrypointLoaded:r,nonce:n}=e||{};return this._loadJSEntrypoint(i,r,n)}async load(e,i,r,n,a){a??=e=>{e.initializeEngine(r).then((e=>e.runApp()))};const{entryPointBaseUrl:s}=r;if("dart2wasm"===e.compileTarget)return this._loadWasmEntrypoint(e,i,s,a);{const i=t(s,e.mainJsPath??"main.dart.js");return this._loadJSEntrypoint(i,a,n)}}didCreateEngineInitializer(e){if(function(e){try{return new URL(e),!0}catch(e){return!1}}(window.assetBase)){const t=e.initializeEngine;e.initializeEngine=function(e){const i={assetBase:assetBase,canvasKitBaseUrl:`${window.assetBase}canvaskit/`};return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&Object.assign(i,e),t.call(this,i)}}"function"==typeof this._didCreateEngineInitializerResolve&&(this._didCreateEngineInitializerResolve(e),this._didCreateEngineInitializerResolve=null,delete _flutter.loader.didCreateEngineInitializer),"function"==typeof this._onEntrypointLoaded&&this._onEntrypointLoaded(e)}async _loadJSEntrypoint(e,t,i){const r="function"==typeof t;if(!this._scriptLoaded){this._scriptLoaded=!0;const n=await this._createScriptTag(e,i);if(!r)return new Promise(((e,t)=>{console.debug("Injecting <script> tag. Using Promises. Use the callback approach instead!"),this._didCreateEngineInitializerResolve=e,n.addEventListener("error",t),document.head.append(n)}));console.debug("Injecting <script> tag. Using callback."),this._onEntrypointLoaded=t,document.head.append(n)}}async _loadWasmEntrypoint(e,i,r,n){if(!this._scriptLoaded){this._scriptLoaded=!0,this._onEntrypointLoaded=n;const{mainWasmPath:a,jsSupportRuntimePath:s}=e,o=t(r,a);let c=t(r,s);null!=this._ttPolicy&&(c=this._ttPolicy.createScriptURL(c));const l=(await import(c)).compileStreaming(fetch(o));let d;d="skwasm"===e.renderer?(async()=>{const e=await i.skwasm;return window._flutter_skwasmInstance=e,{skwasm:e.wasmExports,skwasmWrapper:e,ffi:{memory:e.wasmMemory}}})():Promise.resolve({});const u=await l,p=await u.instantiate(await d);await p.invokeMain()}}_createScriptTag(e,t){const i=Object.keys(mainjsManifest).filter((e=>/^main\.dart_(\d)\.js$/g.test(e))).sort().map((e=>`${window.assetBase}${mainjsManifest[e]}`)).map(this._downloadSliceJs);return Promise.all(i).then((e=>{const t=document.createElement("script");t.type="application/javascript";const i=new Blob(e,{type:"application/javascript"}),r=URL.createObjectURL(i);return t.src=r,t})).catch((t=>{if(!(++this._retryCount>3))return this._createScriptTag(e);{const e=document.createElement("a");e.href="javascript:location.reload()",e.style.textAlign="center",e.style.margin="50px auto",e.style.display="block",e.style.color="#f89800",e.innerText="加载失败，点击重新请求页面",document.body.appendChild(e)}}))}_downloadSliceJs(e){return new Promise(((t,i)=>{const r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="blob",r.onreadystatechange=()=>{4==r.readyState&&(r.status>=200&&r.status<300||304==r.status)&&t(r.response)},r.onerror=i,r.ontimeout=i,r.send()}))}}async function a(e,t,i){if(t<0)return e;let r;const n=new Promise(((e,n)=>{r=setTimeout((()=>{n(new Error(`${i} took more than ${t}ms to resolve. Moving on.`,{cause:a}))}),t)}));return Promise.race([e,n]).finally((()=>{clearTimeout(r)}))}class s{setTrustedTypesPolicy(e){this._ttPolicy=e}loadServiceWorker(e){if(!e)return console.debug("Null serviceWorker configuration. Skipping."),Promise.resolve();if(!("serviceWorker"in navigator)){let e="Service Worker API unavailable.";return window.isSecureContext||(e+="\nThe current context is NOT secure.",e+="\nRead more: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts"),Promise.reject(new Error(e))}const{serviceWorkerVersion:i,serviceWorkerUrl:r=t(`flutter_service_worker.js?v=${i}`),timeoutMillis:n=4e3}=e;let s=r;null!=this._ttPolicy&&(s=this._ttPolicy.createScriptURL(s));return a(navigator.serviceWorker.register(s).then((e=>this._getNewServiceWorker(e,i))).then(this._waitForServiceWorkerActivation),n,"prepareServiceWorker")}async _getNewServiceWorker(e,t){if(e.active||!e.installing&&!e.waiting){if(e.active.scriptURL.endsWith(t))return console.debug("Loading from existing service worker."),e.active;{const t=await e.update();return console.debug("Updating service worker."),t.installing||t.waiting||t.active}}return console.debug("Installing/Activating first service worker."),e.installing||e.waiting}async _waitForServiceWorkerActivation(e){if(!e||"activated"===e.state){if(e)return void console.debug("Service worker already active.");throw new Error("Cannot activate a null service worker!")}return new Promise(((t,i)=>{e.addEventListener("statechange",(()=>{"activated"===e.state&&(console.debug("Activated new service worker."),t())}))}))}}class o{constructor(e,t="flutter-js"){const i=e||[/\.js$/,/\.mjs$/];window.trustedTypes&&(this.policy=trustedTypes.createPolicy(t,{createScriptURL:function(e){if(e.startsWith("blob:"))return e;const r=new URL(e,window.location),n=r.pathname.split("/").pop();if(i.some((e=>e.test(n))))return r.toString();console.error("URL rejected by TrustedTypes policy",t,":",e,"(download prevented)")}}))}}const c=e=>{const t=WebAssembly.compileStreaming(fetch(e));return(e,i)=>((async()=>{const r=await t,n=await WebAssembly.instantiate(r,e);i(n,r)})(),{})};class l{async loadEntrypoint(e){const{serviceWorker:t,...i}=e||{},r=new o,a=new s;a.setTrustedTypesPolicy(r.policy),await a.loadServiceWorker(t).catch((e=>{console.warn("Exception while loading service worker:",e)}));const c=new n;return c.setTrustedTypesPolicy(r.policy),this.didCreateEngineInitializer=c.didCreateEngineInitializer.bind(c),c.loadEntrypoint(i)}async load({serviceWorkerSettings:r,onEntrypointLoaded:a,nonce:l,config:d}={}){d??={};const u=_flutter.buildConfig;if(!u)throw"FlutterLoader.load requires _flutter.buildConfig to be set";const p=u.builds.find((t=>!("dart2wasm"===t.compileTarget&&!e.supportsWasmGC)&&(!(d.renderer&&!((e,t)=>"auto"===e.renderer?"canvaskit"==t||"html"==t:e.renderer==t)(t,d.renderer))&&("skwasm"!==t.renderer||e.crossOriginIsolated&&e.hasChromiumBreakIterators&&e.hasImageCodecs&&e.supportsWasmGC))));if(!p)throw"FlutterLoader could not find a build compatible with configuration and environment.";const w={};w.flutterTT=new o,r&&(w.serviceWorkerLoader=new s,w.serviceWorkerLoader.setTrustedTypesPolicy(w.flutterTT.policy),await w.serviceWorkerLoader.loadServiceWorker(r).catch((e=>{console.warn("Exception while loading service worker:",e)})));const m=function(e,t){return e.canvasKitBaseUrl?e.canvasKitBaseUrl:window.assetBase?window.assetBase+"canvaskit/":t.engineRevision&&!t.useLocalCanvasKit?i("https://www.gstatic.com/flutter-canvaskit",t.engineRevision):"canvaskit"}(d,u);"canvaskit"===p.renderer?w.canvasKit=((e,i,r,n)=>(window.flutterCanvasKitLoaded=(async()=>{if(window.flutterCanvasKit)return window.flutterCanvasKit;const a=r.hasChromiumBreakIterators&&r.hasImageCodecs;if(!a&&"chromium"==i.canvasKitVariant)throw"Chromium CanvasKit variant specifically requested, but unsupported in this browser";const s=a&&"full"!==i.canvasKitVariant;let o=n;s&&(o=t(o,"chromium"));let l=t(o,"canvaskit.js");e.flutterTT.policy&&(l=e.flutterTT.policy.createScriptURL(l));const d=c(t(o,"canvaskit.wasm")),u=await import(l);return window.flutterCanvasKit=await u.default({instantiateWasm:d}),window.flutterCanvasKit})(),window.flutterCanvasKitLoaded))(w,d,e,m):"skwasm"===p.renderer&&(w.skwasm=(async(e,i,r,n)=>{const a=t(n,"skwasm.js");let s=a;e.flutterTT.policy&&(s=e.flutterTT.policy.createScriptURL(s));const o=c(t(n,"skwasm.wasm")),l=await import(s);return await l.default({instantiateWasm:o,locateFile:(e,t)=>{const i=t+e;return i.endsWith(".worker.js")?URL.createObjectURL(new Blob([`importScripts('${i}');`],{type:"application/javascript"})):i},mainScriptUrlOrBlob:a})})(w,0,0,m));const v=new n;return v.setTrustedTypesPolicy(w.flutterTT.policy),this.didCreateEngineInitializer=v.didCreateEngineInitializer.bind(v),v.load(p,w,d,l,a)}}window._flutter||(window._flutter={}),window._flutter.loader||(window._flutter.loader=new l)}();
//# sourceMappingURL=flutter.js.map
''';
