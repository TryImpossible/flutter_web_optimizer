const String flutterJSSourceCode = r'''
!function(){"use strict";const e={hasImageCodecs:"undefined"!=typeof ImageDecoder&&("Google Inc."===navigator.vendor||"Edg/"===navigator.agent),hasChromiumBreakIterators:void 0!==Intl.v8BreakIterator&&void 0!==Intl.Segmenter,supportsWasmGC:WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,95,1,120,0])),crossOriginIsolated:window.crossOriginIsolated};function t(...e){return new URL(r(...e),document.baseURI).toString()}function r(...e){return e.filter((e=>!!e)).map(((e,t)=>0===t?i(e):function(e){let t=0;for(;t<e.length&&"/"===e.charAt(t);)t++;return e.substring(t)}(i(e)))).filter((e=>e.length)).join("/")}function i(e){let t=e.length;for(;t>0&&"/"===e.charAt(t-1);)t--;return e.substring(0,t)}class n{constructor(){this._scriptLoaded=!1,this._retryCount=0}setTrustedTypesPolicy(e){this._ttPolicy=e}async loadEntrypoint(e){const{entrypointUrl:r=t("main.dart.js"),onEntrypointLoaded:i,nonce:n}=e||{};return this._loadJSEntrypoint(r,i,n)}async load(e,r,i,n,a){a??=e=>{e.initializeEngine(i).then((e=>e.runApp()))};const{entryPointBaseUrl:s}=i;if("dart2wasm"===e.compileTarget)return this._loadWasmEntrypoint(e,r,s,a);{const r=t(s,e.mainJsPath??"main.dart.js");return this._loadJSEntrypoint(r,a,n)}}didCreateEngineInitializer(e){const t=e.initializeEngine;e.initializeEngine=function(e){const r={assetBase:assetBase,canvasKitBaseUrl:`${assetBase}canvaskit/`};return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&Object.assign(r,e),t.call(this,r)},"function"==typeof this._didCreateEngineInitializerResolve&&(this._didCreateEngineInitializerResolve(e),this._didCreateEngineInitializerResolve=null,delete _flutter.loader.didCreateEngineInitializer),"function"==typeof this._onEntrypointLoaded&&this._onEntrypointLoaded(e)}async _loadJSEntrypoint(e,t,r){const i="function"==typeof t;if(!this._scriptLoaded){this._scriptLoaded=!0;const n=await this._createScriptTag(e,r);if(!i)return new Promise(((e,t)=>{console.debug("Injecting <script> tag. Using Promises. Use the callback approach instead!"),this._didCreateEngineInitializerResolve=e,n.addEventListener("error",t),document.head.append(n)}));console.debug("Injecting <script> tag. Using callback."),this._onEntrypointLoaded=t,document.head.append(n)}}async _loadWasmEntrypoint(e,r,i,n){if(!this._scriptLoaded){this._scriptLoaded=!0,this._onEntrypointLoaded=n;const{mainWasmPath:a,jsSupportRuntimePath:s}=e,o=t(i,a);let c=t(i,s);null!=this._ttPolicy&&(c=this._ttPolicy.createScriptURL(c));const l=await import(c);console.error(`jsSupportRuntimeUri=${c}, moduleUri=${o}`);const d=l.compileStreaming(fetch(o));let u;u="skwasm"===e.renderer?(async()=>{const e=await r.skwasm;return window._flutter_skwasmInstance=e,{skwasm:e.wasmExports,skwasmWrapper:e,ffi:{memory:e.wasmMemory}}})():Promise.resolve({});const p=await d,w=await p.instantiate(await u);await w.invokeMain()}}_createScriptTag(e,t){const r=Object.keys(mainjsManifest).filter((e=>/^main\.dart_(\d)\.js$/g.test(e))).sort().map((e=>`${assetBase}${mainjsManifest[e]}`)).map(this._downloadSliceJs);return Promise.all(r).then((e=>{const t=document.createElement("script");t.type="application/javascript";const r=new Blob(e,{type:"application/javascript"}),i=URL.createObjectURL(r);return t.src=i,t})).catch((t=>{if(!(++this._retryCount>3))return this._createScriptTag(e);{const e=document.createElement("a");e.href="javascript:location.reload()",e.style.textAlign="center",e.style.margin="50px auto",e.style.display="block",e.style.color="#f89800",e.innerText="加载失败，点击重新请求页面",document.body.appendChild(e)}}))}_downloadSliceJs(e){return new Promise(((t,r)=>{const i=new XMLHttpRequest;i.open("get",e,!0),i.responseType="blob",i.onreadystatechange=()=>{4==i.readyState&&(i.status>=200&&i.status<300||304==i.status)&&t(i.response)},i.onerror=r,i.ontimeout=r,i.send()}))}}async function a(e,t,r){if(t<0)return e;let i;const n=new Promise(((e,n)=>{i=setTimeout((()=>{n(new Error(`${r} took more than ${t}ms to resolve. Moving on.`,{cause:a}))}),t)}));return Promise.race([e,n]).finally((()=>{clearTimeout(i)}))}class s{setTrustedTypesPolicy(e){this._ttPolicy=e}loadServiceWorker(e){if(!e)return console.debug("Null serviceWorker configuration. Skipping."),Promise.resolve();if(!("serviceWorker"in navigator)){let e="Service Worker API unavailable.";return window.isSecureContext||(e+="\nThe current context is NOT secure.",e+="\nRead more: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts"),Promise.reject(new Error(e))}const{serviceWorkerVersion:r,serviceWorkerUrl:i=t(`flutter_service_worker.js?v=${r}`),timeoutMillis:n=4e3}=e;let s=i;null!=this._ttPolicy&&(s=this._ttPolicy.createScriptURL(s));return a(navigator.serviceWorker.register(s).then((e=>this._getNewServiceWorker(e,r))).then(this._waitForServiceWorkerActivation),n,"prepareServiceWorker")}async _getNewServiceWorker(e,t){if(e.active||!e.installing&&!e.waiting){if(e.active.scriptURL.endsWith(t))return console.debug("Loading from existing service worker."),e.active;{const t=await e.update();return console.debug("Updating service worker."),t.installing||t.waiting||t.active}}return console.debug("Installing/Activating first service worker."),e.installing||e.waiting}async _waitForServiceWorkerActivation(e){if(!e||"activated"===e.state){if(e)return void console.debug("Service worker already active.");throw new Error("Cannot activate a null service worker!")}return new Promise(((t,r)=>{e.addEventListener("statechange",(()=>{"activated"===e.state&&(console.debug("Activated new service worker."),t())}))}))}}class o{constructor(e,t="flutter-js"){const r=e||[/\.js$/,/\.mjs$/];window.trustedTypes&&(this.policy=trustedTypes.createPolicy(t,{createScriptURL:function(e){if(e.startsWith("blob:"))return e;const i=new URL(e,window.location),n=i.pathname.split("/").pop();if(r.some((e=>e.test(n))))return i.toString();console.error("URL rejected by TrustedTypes policy",t,":",e,"(download prevented)")}}))}}const c=e=>{const t=WebAssembly.compileStreaming(fetch(e));return(e,r)=>((async()=>{const i=await t,n=await WebAssembly.instantiate(i,e);r(n,i)})(),{})};class l{async loadEntrypoint(e){const{serviceWorker:t,...r}=e||{},i=new o,a=new s;a.setTrustedTypesPolicy(i.policy),await a.loadServiceWorker(t).catch((e=>{console.warn("Exception while loading service worker:",e)}));const c=new n;return c.setTrustedTypesPolicy(i.policy),this.didCreateEngineInitializer=c.didCreateEngineInitializer.bind(c),c.loadEntrypoint(r)}async load({serviceWorkerSettings:i,onEntrypointLoaded:a,nonce:l,config:d}={}){d??={};const u=_flutter.buildConfig;if(!u)throw"FlutterLoader.load requires _flutter.buildConfig to be set";const p=u.builds.find((t=>!("dart2wasm"===t.compileTarget&&!e.supportsWasmGC)&&(!(d.renderer&&!((e,t)=>"auto"===e.renderer?"canvaskit"==t||"html"==t:e.renderer==t)(t,d.renderer))&&("skwasm"!==t.renderer||e.crossOriginIsolated&&e.hasChromiumBreakIterators&&e.hasImageCodecs&&e.supportsWasmGC))));if(!p)throw"FlutterLoader could not find a build compatible with configuration and environment.";const w={};w.flutterTT=new o,i&&(w.serviceWorkerLoader=new s,w.serviceWorkerLoader.setTrustedTypesPolicy(w.flutterTT.policy),await w.serviceWorkerLoader.loadServiceWorker(i).catch((e=>{console.warn("Exception while loading service worker:",e)})));const m=function(e,t){return e.canvasKitBaseUrl?e.canvasKitBaseUrl:window.assetBase?assetBase+"canvaskit/":t.engineRevision&&!t.useLocalCanvasKit?r("https://www.gstatic.com/flutter-canvaskit",t.engineRevision):"canvaskit"}(d,u);"canvaskit"===p.renderer?w.canvasKit=((e,r,i,n)=>(window.flutterCanvasKitLoaded=(async()=>{if(window.flutterCanvasKit)return window.flutterCanvasKit;const a=i.hasChromiumBreakIterators&&i.hasImageCodecs;if(!a&&"chromium"==r.canvasKitVariant)throw"Chromium CanvasKit variant specifically requested, but unsupported in this browser";const s=a&&"full"!==r.canvasKitVariant;let o=n;s&&(o=t(o,"chromium"));let l=t(o,"canvaskit.js");e.flutterTT.policy&&(l=e.flutterTT.policy.createScriptURL(l));const d=c(t(o,"canvaskit.wasm")),u=await import(l);return window.flutterCanvasKit=await u.default({instantiateWasm:d}),window.flutterCanvasKit})(),window.flutterCanvasKitLoaded))(w,d,e,m):"skwasm"===p.renderer&&(w.skwasm=(async(e,r,i,n)=>{const a=t(n,"skwasm.js");let s=a;e.flutterTT.policy&&(s=e.flutterTT.policy.createScriptURL(s));const o=c(t(n,"skwasm.wasm")),l=await import(s);return await l.default({instantiateWasm:o,locateFile:(e,t)=>{const r=t+e;return r.endsWith(".worker.js")?URL.createObjectURL(new Blob([`importScripts('${r}');`],{type:"application/javascript"})):r},mainScriptUrlOrBlob:a})})(w,0,0,m));const v=new n;return v.setTrustedTypesPolicy(w.flutterTT.policy),this.didCreateEngineInitializer=v.didCreateEngineInitializer.bind(v),v.load(p,w,d,l,a)}}window._flutter||(window._flutter={}),window._flutter.loader||(window._flutter.loader=new l)}();
//# sourceMappingURL=flutter.js.map
''';
